- var root = 'https://s3.amazonaws.com/ganbreederpublic/imgs/';
doctype html
html
    head
        title Ganbreeder
        meta(charset="utf-8")
        meta(content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport")

        meta(property="og:title", content="Image from Ganbreeder")
        meta(property="og:description", content="An image generated by Ganbreeder.")
        meta(property="og:image", content=src=root+key+'.jpeg')
        meta(property="og:image:width", content="128")
        meta(property="og:image:height", content="128")
        meta(property="og:image:type", content="image/jpeg")
        meta(property="og:url", content='https://ganbreeder.app/i?k='+key)

        meta(name="twitter:card", content="app")
        meta(name="twitter:creator", content="@_joelsimon")
        meta(name="twitter:title", content="Ganbreeder Image")
        meta(name="twitter:image", content=root+key+'.jpeg')
        meta(name="Description", content="A collaborative tool for discovering images.")

        link(href="index.css" rel="stylesheet" media="screen")
    body

        header
            .container
                h1 Ganbreeder
        section
            //- #links
                a(href='/random') Random
                br
                a(href='foo') Mix Images
                //- br
                //- a(href='foo') Image Info
                //- br
                //- a(href='foo') Code
            .container.top
                #links
                    if pkey
                        .awrap
                            a(href='/i?k='+pkey) parent
                    .awrap
                        a(href='/random') random
                    .awrap
                        a(href='/mix?parent1='+key) mix

                    //- if pkey
                    //-     a.imglink(href='/i?k='+pkey)
                    //-         img(src=root+pkey+'.jpeg')
                        //- p(style='position:relative;') Parent

                img.image(src=root+key+'.jpeg')
                //- .option.cross
                    //- p(style='position:relative;top:84px;') Cross

            .image_container#loading_container
                img.loading(src="image/loading.gif", style='width:50%;')
                p Loading Children

            .image_container.content(style='display:hidden')
                - for (i = 0; i < 12; i ++) {
                    a.imglink()
                        img()
                - }
        #footer
        script.
            const key = "#{key}"
            const root = "#{root}"
        script(src="utils.js")
        script(src="image.js")
